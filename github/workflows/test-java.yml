# ğŸ‘‰ TÃªn cá»§a workflow, sáº½ hiá»ƒn thá»‹ trong tab "Actions" cá»§a GitHub
name: Java Test

# ğŸ‘‰ Khi nÃ o workflow nÃ y sáº½ Ä‘Æ°á»£c cháº¡y
on:
  # ğŸ‘‰ Cháº¡y khi cÃ³ Pull Request má»Ÿ hoáº·c cáº­p nháº­t vÃ o nhÃ¡nh main
  pull_request:
    branches:
      - main
  # ğŸ‘‰ Cháº¡y khi cÃ³ code Ä‘Æ°á»£c Ä‘áº©y (push) vÃ o nhÃ¡nh main
  push:
    branches:
      - main

# ğŸ‘‰ Khai bÃ¡o cÃ¡c job sáº½ thá»±c hiá»‡n (cÃ³ thá»ƒ cÃ³ nhiá»u job)
jobs:
  build:
    # ğŸ‘‰ TÃªn hiá»ƒn thá»‹ cá»§a job nÃ y
    name: Test on Windows
    # ğŸ‘‰ Job nÃ y sáº½ cháº¡y trÃªn há»‡ Ä‘iá»u hÃ nh Windows má»›i nháº¥t
    runs-on: windows-latest

    # ğŸ‘‰ CÃ¡c bÆ°á»›c (steps) thá»±c hiá»‡n trong job
    steps:
      # ğŸ‘‰ BÆ°á»›c 1: Checkout mÃ£ nguá»“n tá»« GitHub repo
      - name: Checkout Code
        uses: actions/checkout@v3

      # ğŸ‘‰ BÆ°á»›c 2: CÃ i Ä‘áº·t Java (JDK) Ä‘á»ƒ build vÃ  cháº¡y test
      - name: Set up JDK
        uses: actions/setup-java@v3
        with:
          # ğŸ‘‰ Chá»n nhÃ  cung cáº¥p JDK lÃ  Temurin (Eclipse Adoptium)
          distribution: 'temurin'
          # ğŸ‘‰ PhiÃªn báº£n Java cáº§n dÃ¹ng lÃ  Java 17
          java-version: '17'

      # ğŸ‘‰ BÆ°á»›c 3: DÃ¹ng Maven Ä‘á»ƒ build vÃ  cháº¡y test (náº¿u cÃ³)
      - name: Build and test on windows
        run: mvn clean verify
